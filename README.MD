# Weather Analyzer by PieroDev ğŸŒ¦ï¸ (Flask + Live Charts)

Dashboard web tipo **data analyzer** para consultar el clima de **hasta 4 ciudades**, con actualizaciÃ³n automÃ¡tica, grÃ¡ficas y vista de texto (resumen + tablas). Ideal como base para evolucionar hacia un sistema mÃ¡s completo (alertas, mÃ¡s mÃ©tricas, fuentes oficiales, etc.).

---

## âœ¨ CaracterÃ­sticas

* âœ… **MÃ¡ximo 4 ciudades** guardadas (aÃ±adir/eliminar desde el panel)
* âœ… **ActualizaciÃ³n automÃ¡tica** (por defecto cada 5 minutos)
* âœ… BotÃ³n **â€œActualizar ahoraâ€** (forzar update manual)
* âœ… **GrÃ¡ficas** generadas con `matplotlib` (PNG)
* âœ… Vista **Texto** con:

  * clima actual (`current`)
  * resumen semanal (`stats`)
  * predicciÃ³n 7 dÃ­as (`daily`)
  * predicciÃ³n **hourly 48h agrupada por dÃ­a** (mÃ¡s legible)
  * reporte **Markdown** descargable
* âœ… Guardado de datos en JSON con **retenciÃ³n** (evita miles de archivos)
* âœ… UI estilo corporativo con **logo + favicon**

---

## ğŸ—‚ï¸ Estructura de archivos generados

Al ejecutar el script se crea una carpeta:

```
clima_live/
  cities.json
  cities/
    <city_id>/
      latest.json
      status.json
      graphs/
        temp.png
        precip.png
        pprob.png
        wind_speed.png
        temp_vs_feel.png
        precip_acum.png
        wind_dir_deg.png
      snapshots/
        20260213_101530.json
        ...
```

* `latest.json`: Ãºltimo resultado (se **sobrescribe**)
* `snapshots/`: historial con retenciÃ³n configurable
* `graphs/`: grÃ¡ficas (se **sobrescriben**, no crecen sin control)

---

## âœ… Requisitos

* Python 3.9+ (recomendado)
* Dependencias:

```bash
pip install flask requests matplotlib
```

---

## â–¶ï¸ CÃ³mo ejecutar

1. Renombra el script a:

```
Wheather_Analyzer_by_PieroDev.py
```

2. Ejecuta:

```bash
python Wheather_Analyzer_by_PieroDev.py
```

3. Abre el dashboard:

```
http://127.0.0.1:5000
```

---

## ğŸ§­ CÃ³mo usar el dashboard

### AÃ±adir ciudad

En **GestiÃ³n â†’ AÃ±adir ciudad**:

* Ciudad: `Valencia` o `Lima`
* `countryCode` (opcional, ISO2): `ES`, `PE`, etc.

Si el geocoding devuelve varias coincidencias, verÃ¡s una pantalla para **elegir** la correcta.

### Eliminar ciudad

BotÃ³n ğŸ—‘ï¸ en la tarjeta de la ciudad.

### Actualizar manualmente

BotÃ³n **ğŸ”„ Actualizar ahora** (ideal despuÃ©s de aÃ±adir una ciudad).

---

## âš™ï¸ ConfiguraciÃ³n (desde la UI)

En el panel **GestiÃ³n** puedes cambiar:

* `interval_seconds`: cada cuÃ¡ntos segundos se actualiza (mÃ­nimo 30)
* `snapshot_retention`: cuÃ¡ntos snapshots JSON se conservan por ciudad

---

## ğŸ§ª Notas importantes

* Este proyecto consume una **API** de clima (Open-Meteo) y genera datos/plots localmente.
* La etiqueta â€œoficialâ€ aplica a **AEMET en EspaÃ±a**, pero esta versiÃ³n **no consume AEMET todavÃ­a**.
* Si quieres integrar AEMET, el siguiente paso natural serÃ­a:

  * AÃ±adir un â€œproviderâ€ alternativo (Open-Meteo / AEMET)
  * Conmutar fuente desde settings (sin romper el dashboard)

---

## ğŸ› ï¸ PersonalizaciÃ³n rÃ¡pida

### Logo corporativo

El script ya incluye un `BRAND_LOGO_URL` en la configuraciÃ³n.
Puedes reemplazarlo por tu propio recurso o servirlo localmente (recomendado para producciÃ³n).

### Ajustar el nÃºmero mÃ¡ximo de ciudades

En el script:

```python
MAX_CITIES = 4
```
---

## ğŸ“„ Licencia

Elige la que prefieras para tu repo (MIT suele ser buena para proyectos personales).

---

## ğŸ‘¤ Autor

**PieroDev** â€” Weather Analyzer Dashboard (Flask + Matplotlib)
